{% extends './base_admin.html' %}

{% block data %}

    <div class="container">
        <div class="d-flex justify-content-between align-items-center pb-3">
            <h4 class="m-0">Notifications</h4>
            <a href="{% url 'dashboard:receiver-notification' %}" class="btn btn-sm btn-primary">Faire une notification</a>
        </div>
        {% if notifs %}
        <div class="table-responsive">
            <table class="table">
                <tr>
                    <td>Photo</td>
                    <td>Nom complet</td>
                    <td>Message</td>
                </tr>
                {% for item in notifs %}
                <tr>
                    <td>
                        <img src="{{item.receiver.picture.url}}" alt="photo {{item.receiver.last_name}} {{item.receiver.post_name}} {{item.receiver.first_name}}" width="50px">
                    </td>
                    <td>{{item.receiver.last_name}} {{item.receiver.post_name}} {{item.receiver.first_name}}</td>
                    <td>{{item.content}}</td>
                </tr>
                {% endfor %}
            </table>
        </div>

        {% else %}
        <h3 class="text-muted"><i>Aucune notification pour l'instant</i></h3>
        {% endif %}
    </div>

    <script>
        function showCard(){
            const btn = document.getElementById('card-container');
            btn.classList.toggle('d-none')
            btn.classList.toggle('d-flex')
        }
    </script>

{% endblock %}